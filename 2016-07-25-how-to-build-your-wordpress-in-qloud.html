<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=1"><meta name="renderer" content="webkit"><title>在腾讯云（Qloud）搭建自己的Wordpress博客（教程向） | BLOG | HDSKY</title><meta name="format-detection" content="telephone=no"><meta name="description" content="本文主要介绍了在腾讯云（centos 6.5）下搭建自己的wordpress站点。"><meta name="keywords" content="黑&amp;蛋,个人博客,Linux,Ubuntu,Centos,HPC,tag.name,tag.name,tag.name"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="applicable-device" content="pc,mobile"><link href="/dist/iris-20b518ec25.css" rel="stylesheet"><script>var TinyCache=function(){"use strict";var n=window.localStorage,t=document;function e(n){return new Error("Failed to load "+n.name+": "+n.url)}function r(n){return new Error("No such item or item is staled: "+n.name)}function o(n,e){var r=t.createElement("script");r.id=n.name,r.text=e,r.defer=!0,t.getElementsByTagName("head")[0].appendChild(r)}function i(n,r){var o=t.createElement("script");o.id=n.name,o.src=n.url,o.onload=function(){r(null)},o.onerror=function(){r(e(n))},t.getElementsByTagName("body")[0].appendChild(o)}function u(t,e,r){!function(t,e){try{n.setItem(t,JSON.stringify(e))}catch(t){}}(""+t+e.name,{content:r,expire:e.maxAge?(new Date).getTime()+1e3*e.maxAge:null,name:e.name,url:e.url})}return function(){function t(n){this.config={prefix:"TC:",timeout:6e3},function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])}(this.config,n)}var a=t.prototype;return a.load=function(n,t){var e,r,o,i,u=this;if(!t)return new Promise((function(t,e){u.load(n,(function(n){n?e(n):t()}))}));e=n.map((function(n){return function(t){u.loadScript(n,t)}})),r=t,o=[],i=e.length,e.forEach((function(n,t){n((function(n,e){o[t]=e,n&&r&&(r(n),r=null),0==--i&&r&&r(null,o)}))}))},a.remove=function(n){!function(n){try{localStorage.removeItem(n)}catch(n){}}(""+this.config.prefix+n.name)},a.loadScript=function(t,a){var c=this;!function(t,e,o){var i=function(t){var e,r=null;try{var o=n.getItem(t);o&&(r=JSON.parse(o))&&("string"!=typeof(e=r).name||"string"!=typeof e.url||"string"!=typeof e.content)&&(r=null)}catch(t){}return r}(""+t+e.name);i?i.url!==e.url||i.expire&&i.expire<(new Date).getTime()?o(r(e)):o(null,i.content):o(r(e))}(this.config.prefix,t,(function(n,r){var l,f,m,s;n?(l=t,f=c.config.timeout,m=function(n,e){e&&!n?(o(t,e),u(c.config.prefix,t,e),a(null)):i(t,a)},(s=new XMLHttpRequest).open("GET",l.url,!0),s.timeout=f,s.onload=function(){200<=s.status&&s.status<300||304===s.status?m(null,s.responseText):m(e(l))},s.ontimeout=s.onerror=function(){m(e(l))},s.send()):r?(o(t,r),a(null)):i(t,a)}))},t}()}()</script><script>(new TinyCache).load([{url:"/dist/iris-dfae13bc3a.js",name:"iris"}])</script><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="//www.googletagmanager.com"><link rel="dns-prefetch" href="//hdsky-pw.disqus.com"><link rel="shortcut icon" type="image/ico" href="/favicon.ico"><link rel="icon" type="image/png" href="/favicon-192x192.png"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><meta property="og:title" content="在腾讯云（Qloud）搭建自己的Wordpress博客（教程向） | BLOG | HDSKY"><meta property="og:type" content="blog"><meta property="og:url" content="https://hdsky.pw/2016-07-25-how-to-build-your-wordpress-in-qloud.html"><meta property="og:image" content="/favicon-192x192.png"><meta property="og:description" content="本文主要介绍了在腾讯云（centos 6.5）下搭建自己的wordpress站点。"><meta property="og:article:tag" content="黑&amp;蛋,个人博客,Linux,Ubuntu,Centos,HPC,tag.name,tag.name,tag.name"><meta property="og:locale" content="zh-Hans"><meta property="article:published_time" content="Mon Jul 25 2016 15:01:18 GMT+0800"><meta property="article:modified_time" content="Tue Jun 28 2022 00:08:48 GMT+0800"><meta name="twitter:card" content="summary"><script async src="https://www.googletagmanager.com/gtag/js?id=G-BNEM1LH28R"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-BNEM1LH28R")</script><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://hdsky.pw"
    },
    "headline": "在腾讯云（Qloud）搭建自己的Wordpress博客（教程向）",
    
    "datePublished": "2016-07-25T07:01:18.000Z",
    "dateModified": "2022-06-27T16:08:48.000Z",
    "author": {
        "@type": "Person",
        "name": "黑&amp;蛋",
        "image": {
            "@type": "ImageObject",
            "url": "avatar.png"
        },
        "description": "黑&amp;蛋的个人博客"
    },
    "publisher": {
        "@type": "Organization",
        "name": "BLOG | HDSKY",
        "logo": {
            "@type": "ImageObject",
            "url": "/favicon-192x192.png"
        }
    },
    "keywords": "黑&amp;蛋,个人博客,Linux,Ubuntu,Centos,HPC,tag.name,tag.name,tag.name",
    "description": "本文主要介绍了在腾讯云（centos 6.5）下搭建自己的wordpress站点。"
}</script><script>"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then((function(e){e.map((function(e){e.unregister()}))}))</script><meta name="generator" content="Hexo 8.0.0"></head><body data-instant-intensity="viewport"><header class="header header__no-hero"><div class="header-wrapper"><div class="header__left"><div class="header-logo"><a href="/">BLOG | HDSKY</a></div></div><div class="header__right"><nav class="nav"><a id="nav-toggle" class="nav-toggle"><div></div></a><div class="nav-wrapper"><ul><li><a class="nav-link" href="/links">Link</a></li><li><a class="nav-link" href="/archives">Archive</a></li><li><a class="nav-link" href="/about">About</a></li></ul></div></nav></div></div></header><main class="main"><article class="post"><header class="post-header"><h1 class="post-title">在腾讯云（Qloud）搭建自己的Wordpress博客（教程向）</h1><section class="post-meta"><time datetime="2016-07-25T07:01:18.000Z"><i class="far fa-calendar" aria-hidden></i> 2016-07-25</time></section></header><aside class="post-aside"><section class="post-toc"><header class="post-toc-title">Contents</header><ol class="post-toc-inst"><li class="post-toc-inst-item post-toc-inst-level-1"><a class="post-toc-inst-link" href="#%E9%85%8D%E7%BD%AELNMP%E7%8E%AF%E5%A2%83"><span class="post-toc-inst-number">1.</span> <span class="post-toc-inst-text">配置LNMP环境</span></a><ol class="post-toc-inst-child"><li class="post-toc-inst-item post-toc-inst-level-2"><a class="post-toc-inst-link" href="#1-%E5%AE%89%E8%A3%85Nginx"><span class="post-toc-inst-number">1.1.</span> <span class="post-toc-inst-text">1.安装Nginx</span></a></li><li class="post-toc-inst-item post-toc-inst-level-2"><a class="post-toc-inst-link" href="#2-%E5%AE%89%E8%A3%85MySQL"><span class="post-toc-inst-number">1.2.</span> <span class="post-toc-inst-text">2.安装MySQL</span></a></li><li class="post-toc-inst-item post-toc-inst-level-2"><a class="post-toc-inst-link" href="#3-%E5%AE%89%E8%A3%85PHP"><span class="post-toc-inst-number">1.3.</span> <span class="post-toc-inst-text">3.安装PHP</span></a></li><li class="post-toc-inst-item post-toc-inst-level-2"><a class="post-toc-inst-link" href="#4-%E5%AE%89%E8%A3%85wordpress"><span class="post-toc-inst-number">1.4.</span> <span class="post-toc-inst-text">4.安装wordpress</span></a></li><li class="post-toc-inst-item post-toc-inst-level-2"><a class="post-toc-inst-link" href="#5-%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="post-toc-inst-number">1.5.</span> <span class="post-toc-inst-text">5.配置数据库</span></a></li><li class="post-toc-inst-item post-toc-inst-level-2"><a class="post-toc-inst-link" href="#6-%E9%85%8D%E7%BD%AENginx%E9%83%A8%E5%88%86"><span class="post-toc-inst-number">1.6.</span> <span class="post-toc-inst-text">6.配置Nginx部分</span></a></li></ol></li><li class="post-toc-inst-item post-toc-inst-level-1"><a class="post-toc-inst-link" href="#%E9%85%8D%E7%BD%AE%E9%98%B2%E7%81%AB%E5%A2%99"><span class="post-toc-inst-number">2.</span> <span class="post-toc-inst-text">配置防火墙</span></a></li><li class="post-toc-inst-item post-toc-inst-level-1"><a class="post-toc-inst-link" href="#%E5%AE%8C%E6%88%90%E9%85%8D%E7%BD%AEWordPress%E7%9A%84%E5%B7%A5%E4%BD%9C"><span class="post-toc-inst-number">3.</span> <span class="post-toc-inst-text">完成配置WordPress的工作</span></a></li></ol></section></aside><section class="post-content"><p>本文主要介绍了在腾讯云（centos 6.5）下搭建自己的wordpress站点。<span id="more"></span>我们先介绍一下在linux下搭建网站的两者主流方式。</p><p><strong>LAMP</strong>是指一组通常一起使用来运行动态网站或者服务器的自由软件名称首字母缩写：Linux+Apache+Mysql&#x2F;MariaDB+Perl&#x2F;PHP&#x2F;Python</p><p>而LNMP则是以Nginx替代Apache</p><p>因为这两种方式的流行，这些软件往往被打包到一起提供为一键安装包方便一键配置网站环境。</p><p>建议先修资料：<a target="_blank" rel="noopener" href="https://www.zning.net.cn/tech/3390.htm">Linux简单命令</a>、<a target="_blank" rel="noopener" href="https://www.zning.net.cn/my/3392.htm">Vim编辑器的使用</a></p><p>本文主要介绍使用LNMP来进行wordpress博客的搭建。</p><h1 id="配置LNMP环境"><a href="#配置LNMP环境" class="headerlink" title="配置LNMP环境"></a>配置LNMP环境</h1><p>尽管已有一键配置LNMP的安装包，但是作为新手还是不建议选择一键安装，从分步安装中渐渐熟悉Linux的命令，也不失为一种练习方式。</p><p>首先我们先将主机上的软件用yum命令来更新到最新</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum update</span><br></pre></td></tr></table></figure><h2 id="1-安装Nginx"><a href="#1-安装Nginx" class="headerlink" title="1.安装Nginx"></a><span style="color:#0cf">1.安装Nginx</span></h2><p>在安装软件时可以采用yum命令来安装需要的软件包。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install nginx</span><br></pre></td></tr></table></figure><p>按照提示，输入y后开始安装，安装完毕后，Nginx的配置文件在&#x2F;etc&#x2F;nginx目录下。使用以下命令启动Nginx：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service nginx start</span><br></pre></td></tr></table></figure><p>您可以通过浏览器访问 http:&#x2F;&#x2F;你的IP地址 来确定Nginx是否已经启动。</p><p>最后我们通过chkconfig命令将Nginx设置为开机启动：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chkconfig nginx on</span><br></pre></td></tr></table></figure><h2 id="2-安装MySQL"><a href="#2-安装MySQL" class="headerlink" title="2.安装MySQL"></a><span style="color:#0cf">2.安装MySQL</span></h2><p>同样适用yum命令来安装MySQL</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install mysql-server</span><br></pre></td></tr></table></figure><p>安装完成之后，执行以下命令重启MySQL服务：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mysqld restart</span><br></pre></td></tr></table></figure><p>重启过程中会提示如何设置MySQL的root密码，我们按照提示进行操作：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/bin/mysql_secure_installation</span><br></pre></td></tr></table></figure><p>&nbsp;</p><p>这个脚本会经过一些列的交互问答来进行MySQL的安全设置。</p><p>首先提示输入当前的root密码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Enter current password for root (enter for none):</span><br></pre></td></tr></table></figure><p>初始root密码为空，我们直接敲回车进行下一步。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set root password? [Y/n]</span><br></pre></td></tr></table></figure><p>设置root密码，默认选项为Yes，我们直接回车，提示输入密码，在这里设置您的MySQL的root账户密码。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Remove anonymous users? [Y/n]</span><br></pre></td></tr></table></figure><p>是否移除匿名用户，默认选项为Yes，建议按默认设置，回车继续。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Disallow root login remotely? [Y/n]</span><br></pre></td></tr></table></figure><p>是否禁止root用户远程登录？如果您只在本机内访问MySQL，建议按默认设置，回车继续。 如果您还有其他云主机需要使用root账号访问该数据库，则需要选择n。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Remove test database and access to it? [Y/n]</span><br></pre></td></tr></table></figure><p>是否删除测试用的数据库和权限？ 建议按照默认设置，回车继续。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Reload privilege tables now? [Y/n]</span><br></pre></td></tr></table></figure><p>是否重新加载权限表？因为我们上面更新了root的密码，这里需要重新加载，回车。</p><p>完成后你会看到Success!的提示，MySQL的安全设置已经完成。我们可以使用以下命令登录MySQL：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure><p>按提示输入root密码，就会进入MySQL的交互界面，说明已经安装成功。</p><p>退出mysql的命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quit</span><br></pre></td></tr></table></figure><p>&nbsp;</p><p>MySQL安装完成后默认监听外网的3306端口，有一定的安全隐患，我们通过编辑MySQL的配置文件，将MySQL服务修改为监听内网的3306端口，这样就不会被外界探测到，编辑&#x2F;etc&#x2F;my.cnf文件，在[mysqld]中增加一行：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bind-address=x.x.x.x</span><br></pre></td></tr></table></figure><p>需要将上面的x.x.x.x替换成您的云主机的内网地址。内网地址可以从控制台云主机列表中找到。然后重启MySQL服务使配置生效：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service mysqld restart</span><br></pre></td></tr></table></figure><p>最后我们使用chkconfig命令将MySQL设置为开机启动。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chkconfig mysqld on</span><br></pre></td></tr></table></figure><h2 id="3-安装PHP"><a href="#3-安装PHP" class="headerlink" title="3.安装PHP"></a><span style="color:#0cf">3.安装PHP</span></h2><p>我们可以直接使用yum安装PHP：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install php-fpm php-mysql php</span><br></pre></td></tr></table></figure><p>安装完成后我们将php-fpm启动：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service php-fpm start</span><br></pre></td></tr></table></figure><p>将php-fpm设置为开机启动：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chkconfig php-fpm on</span><br></pre></td></tr></table></figure><p>php安装完成之后，需要设置一下php session的目录：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /var/lib/php/session/</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chown -R apache:apache /var/lib/php/session/</span><br></pre></td></tr></table></figure><p>这时php-fpm已经安装完毕，但是现在需要配置一下Nginx，在&#x2F;etc&#x2F;nginx&#x2F;conf.d目录中新建一个名为php.conf的文件，其内容为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span><br><span class="line">    #</span><br><span class="line">    location ~ .php$ &#123;</span><br><span class="line">        root           /usr/share/php;</span><br><span class="line">        fastcgi_pass   127.0.0.1:9000;</span><br><span class="line">        fastcgi_index  index.php;</span><br><span class="line">        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;</span><br><span class="line">        include        fastcgi_params;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后执行以下命令使我们的配置生效：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service nginx restart</span><br></pre></td></tr></table></figure><p>以上我们配置了Nginx的80端口用来测试，如果您在腾讯云控制台设置了安全组，需要检查该防火墙是否允许80端口，如果不允许的话，您可以在防火墙设置中新增防火墙，并关联到该主机。</p><p>&nbsp;</p><p>我们在&#x2F;usr&#x2F;share&#x2F;php目录下新建一个名为phpinfo.php的文件用来展示phpinfo信息，文件内容为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php echo phpinfo(); ?&gt;</span><br></pre></td></tr></table></figure><p>我们从浏览器打开 http:&#x2F;&#x2F;外网IP地址&#x2F;phpinfo.php， 您就能看到phpinfo信息了，说明我们php环境已经部署成功：</p><p>&nbsp;</p><p>验证PHP安装成功后，需要将此phpinfo.php文件删除，线上环境尽量不要暴漏使用的软件版本及路径信息，以防被入侵者利用。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rm /usr/share/php/phpinfo.php</span><br></pre></td></tr></table></figure><p>安装wordpress，并进行配置</p><p>将LNMP环境安装配置好之后，就可以安装WordPress了。</p><h2 id="4-安装wordpress"><a href="#4-安装wordpress" class="headerlink" title="4.安装wordpress"></a><span style="color:#0cf">4.安装wordpress</span></h2><p>选择一个目录来存放下载的wordpress压缩包，在这里我为了方便放置在了root的根目录。</p><p>在你要存放的目录下使用wget命令来获取网络资源</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://cn.wordpress.org/wordpress-4.5.3-zh_CN.tar.gz</span><br></pre></td></tr></table></figure><p>因为下载下来的是软件包，我们需要将其解压至目录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar zxvf wordpress-4.5.3-zh_CN.tar.gz</span><br></pre></td></tr></table></figure><p>上面的方法是将压缩包中的文件解压到当前目录</p><p>要想将文件解压到指定目录（后面接你想解压到的目录，这里以usr&#x2F;share为例）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar zxvf wordpress-4.5.3-zh_CN.tar.gz -C /usr/share</span><br></pre></td></tr></table></figure><h2 id="5-配置数据库"><a href="#5-配置数据库" class="headerlink" title="5.配置数据库"></a><span style="color:#0cf">5.配置数据库</span></h2><p>写博客当然得先建好数据库，下面我们来配置一下MySQL数据库。</p><p>进入MySQL:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure><p>输入root用户的密码进入数据库。接下来就需要创建WordPress数据库了：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE wordpress;</span><br></pre></td></tr></table></figure><p>接下来为wordpress创建一个新用户：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE USER wpuser@localhost;</span><br></pre></td></tr></table></figure><p>为此用户设置密码，比如把密码设置成wordpresspassword：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SET PASSWORD FOR wpuser@localhost=PASSWORD(&quot;wordpresspassword&quot;);</span><br></pre></td></tr></table></figure><p>还要为此用户设置访问wordpress数据库的权限：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GRANT ALL PRIVILEGES ON wordpress.* TO wpuser@localhost IDENTIFIED BY &#x27;wordpresspassword&#x27;;</span><br></pre></td></tr></table></figure><p>最后将权限生效：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure><p>&nbsp;</p><p>MySQL部分就设置完了。下面我们还要打开WordPress的配置文件&#x2F;etc&#x2F;wordpress&#x2F;wp-config.php，</p><p>如果没有这个文件的话需要用如下命令创建一个wp-config.php</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp wp-config-sample.php wp-config.php</span><br></pre></td></tr></table></figure><p>将刚才对数据库的设置写到这里。找到文件中MySQL的部分，对其进行如下设置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">// ** MySQL settings - You can get this info from your web host ** //</span><br><span class="line"></span><br><span class="line">/** The name of the database for WordPress */</span><br><span class="line"></span><br><span class="line">define(&#x27;DB_NAME&#x27;, &#x27;wordpress&#x27;);</span><br><span class="line"></span><br><span class="line">/** MySQL database username */</span><br><span class="line"></span><br><span class="line">define(&#x27;DB_USER&#x27;, &#x27;wpuser&#x27;);</span><br><span class="line"></span><br><span class="line">/** MySQL database password */</span><br><span class="line"></span><br><span class="line">define(&#x27;DB_PASSWORD&#x27;, &#x27;wordpresspassword&#x27;);</span><br><span class="line"></span><br><span class="line">/** MySQL hostname */</span><br><span class="line"></span><br><span class="line">define(&#x27;DB_HOST&#x27;, &#x27;localhost&#x27;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="6-配置Nginx部分"><a href="#6-配置Nginx部分" class="headerlink" title="6.配置Nginx部分"></a><span style="color:#0cf">6.配置Nginx部分</span></h2><p>打开&#x2F;etc&#x2F;nginx&#x2F;nginx.conf</p><p>按照下面的方式来修改nginx.conf的内容</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name localhost;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        root   /usr/share/wordpress;</span><br><span class="line">        index  index.html index.php;</span><br><span class="line">        try_files $uri $uri/ /index.php?$args;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location ~ .php$ &#123;</span><br><span class="line">        root           /usr/share/wordpress;</span><br><span class="line">        fastcgi_pass   127.0.0.1:9000;</span><br><span class="line">        fastcgi_index  index.php;</span><br><span class="line">        fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;</span><br><span class="line">        include        fastcgi_params;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中：listen参数代表指定访问端口。</p><p>root后面是你自己的网站目录，可以自行设置。</p><p>然后执行以下命令将Nginx重启一下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service nginx restart</span><br></pre></td></tr></table></figure><p>&nbsp;</p><h1 id="配置防火墙"><a href="#配置防火墙" class="headerlink" title="配置防火墙"></a>配置防火墙</h1><p>如果您服务器上安装有防火墙应用，例如firewalld，或者在腾讯云中设置了出入规则，需要进行设置防火墙，将TCP 80端口开放。</p><h1 id="完成配置WordPress的工作"><a href="#完成配置WordPress的工作" class="headerlink" title="完成配置WordPress的工作"></a>完成配置WordPress的工作</h1><p>此时我们在浏览器中打开相应的URl就可以开始执行WordPress的安装了，端口号为之前配置文件中设置的：</p><p>http:&#x2F;&#x2F;你的IP地址&#x2F;wp-admin&#x2F;install.php</p><p>在出现的网页中将几项基础配置填完:</p><p>再用刚才填过的账号登录进去，就可以了随意折腾你的博客了！</p><p>GOOD LUCK！</p><p>&nbsp;</p><p>&nbsp;</p><p>参考文献：</p><p>[1]美团云(bill),《在CentOS 6上安装WordPress》,</p><p><a target="_blank" rel="noopener" href="https://mos.meituan.com/library/16/how-to-install-wordpress-on-centos6/">https://mos.meituan.com/library/16/how-to-install-wordpress-on-centos6/</a></p><p>[2]美团云(Chris),《在CentOS 6上搭建LNMP环境》,</p><p><a target="_blank" rel="noopener" href="https://mos.meituan.com/library/19/how-to-install-lnmp-on-centos6/">https://mos.meituan.com/library/19/how-to-install-lnmp-on-centos6/</a></p><p>[3]张宁网(Zhangning),</p><p><a target="_blank" rel="noopener" href="https://www.zning.net.cn/">https://www.zning.net.cn/</a></p></section><footer class="post-meta"><section class="categories"><a href="/categories/Wordpress%E5%BB%BA%E7%AB%99/"><i class="fas fa-folder"></i> Wordpress建站</a></section><section class="tags"><a href="/tags/Linux/"><i class="fas fa-tag" aria-hidden></i> Linux </a><a href="/tags/Wordpress/"><i class="fas fa-tag" aria-hidden></i> Wordpress </a><a href="/tags/%E5%BB%BA%E7%AB%99/"><i class="fas fa-tag" aria-hidden></i> 建站</a></section></footer><div class="post-end" data-text="End"></div></article><section></section></main><footer class="footer"><div class="footer-wrapper"><p class="copyright">&copy; 2016 - 2025 黑&amp;蛋</p><p class="theme">Hexo Theme <a href="https://github.com/giuem/hexo-theme-iris" target="_blank" rel="noopener noreferrer">Iris</a> with <i class="fas fa-heart"></i></p></div></footer></body></html>